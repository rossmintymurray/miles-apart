{# src/MilesApart/StaffBundle/Resources/views/Sellers/notifications.html.twig #}
{% extends 'MilesApartStaffBundle::modal_layout.html.twig' %}

{#Check if the form has been submitted or not and use the appropriate form template #}
{% if submitted == false %}
    {% form_theme form 'MilesApartAdminBundle:Form:fields.html.twig' 'MilesApartAdminBundle:Form:field_errors.html.twig' %}
{% else %}
    {% form_theme form 'MilesApartAdminBundle:Form:submitted_fields.html.twig' 'MilesApartAdminBundle:Form:field_errors.html.twig' %}
{% endif %}

{# Set the dynamic content for this template #}
{% block modal_title %}
   	New Amazon Product - {{ barcode }}
{% endblock %}

{% block product_name %}
   	{{ product_name }}
{% endblock %}

{% block product_image %}
	<img src="{{ image }}">
{% endblock %}

{% block modal_content %}
	

	 {{ form_start(form) }}
        {{ form_errors(form) }}

        
        <fieldset>
            <legend class="text-muted">Name & Code</legend>
            {{ form_row(form.product_name) }}
            {{ form_row(form.product_marketing_name) }}
            {{ form_row(form.product_marketing_sub_name) }}
            {{ form_row(form.short_name) }}
            {{ form_row(form.print_subtitle) }}
            {{ form_row(form.product_supplier_code) }}
        </fieldset>
        <fieldset>
            <legend class="text-muted">Web Required Fields</legend>
            {{ form_row(form.is_product_online) }}
            {{ form_row(form.is_product_on_amazon) }}
            {{ form_row(form.product_introduction) }}
            {{ form_row(form.product_description) }}
            {{ form_row(form.product_meta_description) }}
            {{ form_row(form.product_pack_quantity) }}
        </fieldset>
        <fieldset>
            <legend class="text-muted">Packaging Dimensions</legend>
            {{ form_row(form.product_weight) }}
            {{ form_row(form.product_width) }}
            {{ form_row(form.product_height) }}
            {{ form_row(form.product_depth) }}
        </fieldset>
        <fieldset>
            <legend class="text-muted">Inventory Requirements</legend>
            {{ form_row(form.product_outer_quantity) }}
            {{ form_row(form.product_inner_quantity) }}
            {{ form_row(form.product_outer_barcode) }}
            {{ form_row(form.product_inner_barcode) }}
        </fieldset>

       <fieldset>
            <legend class="text-muted">Price</legend>
             <div id="prices" data-prototype="{{ macros.widget_prototype(form.product_price, 'Remove price')|escape }}">
                {% for widget in form.product_price.children %}
                    {{ macros.widget_prototype(widget, 'Remove price') }}
                {% endfor %}
            </div>
            <div class="prototype_add_button">
                <a class="btn-add btn btn-default col-md-4 col-md-offset-4" data-target="prices">Add price</a>
            </div>
        </fieldset>
        <fieldset>
            <legend class="text-muted">Suppliers & Costs</legend>

            <div id="suppliers" data-prototype="{{ macros.widget_prototype(form.product_supplier, 'Remove supplier')|escape }}">
                {% for widget in form.product_supplier.children %}
                    {{ macros.widget_prototype(widget, 'Remove supplier') }}
                {% endfor %}
            </div>

            <div class="prototype_add_button">
                <a class="btn-add btn btn-default col-md-4 col-md-offset-4" data-target="suppliers">Add supplier</a>
            </div>

        </fieldset>
        <fieldset>
            <legend class="text-muted">Brand & VAT</legend>
            {{ form_row(form.brand) }}
            {{ form_row(form.vat_rate_type) }}

        </fieldset>
        
        <fieldset>
            <legend class="text-muted">Features</legend>

            <div id="features" data-prototype="{{ macros.widget_prototype(form.product_feature, 'Remove feature')|escape }}">
                {% for widget in form.product_feature.children %}
                    {{ macros.widget_prototype(widget, 'Remove feature') }}
                {% endfor %}
            </div>
            <div class="prototype_add_button">
                <a class="btn-add btn btn-default col-md-4 col-md-offset-4" data-target="features">Add feature</a>
            </div>
        
        </fieldset>
        <fieldset>
            <legend class="text-muted">Attributes</legend>

            <div id="attributes" data-prototype="{{ macros.widget_prototype(form.attribute_value, 'Remove attribute')|escape }}">
                {% for widget in form.attribute_value.children %}
                    {{ macros.widget_prototype(widget, 'Remove attribute') }}
                {% endfor %}
            </div>
            <div class="prototype_add_button">
                <a class="btn-add btn btn-default col-md-4 col-md-offset-4" data-target="attributes">Add attribute</a>
            </div>
        
        </fieldset>
        <fieldset>
            <legend class="text-muted">Keywords</legend>

            <div id="keywords" data-prototype="{{ macros.widget_prototype(form.keyword, 'Remove keyword')|escape }}">
                {% for widget in form.keyword.children %}
                    {{ macros.widget_prototype(widget, 'Remove keyword') }}
                {% endfor %}
            </div>
            <div class="prototype_add_button">
                <a class="btn-add btn btn-default col-md-4 col-md-offset-4" data-target="keywords">Add keyword</a>
            </div>
        
        </fieldset>
        
        <fieldset>
            {{ form_row(form.product_default_category) }}
            {{ form_row(form.category) }}
        
        </fieldset>

        <fieldset>
            <legend class="text-muted">Seasons</legend>

            <div id="seasons" data-prototype="{{ macros.widget_prototype(form.season, 'Remove season')|escape }}">
                {% for widget in form.season.children %}
                    {{ macros.widget_prototype(widget, 'Remove season') }}
                {% endfor %}
            </div>
            <div class="prototype_add_button">
                <a class="btn-add btn btn-default col-md-4 col-md-offset-4" data-target="seasons">Add season</a>
            </div>
        
        </fieldset>

       

        <fieldset>
            {{ form_row(form.submit) }}
        </fieldset>    
        
        {{ form_rest(form) }}
    
    {{ form_end(form) }}
{% endblock %}

{% block modal_footer %}
	<a href="#" class="btn btn-primary">This is a test</a>

	<script>
		processAmazonProductAddFormSubmit("{{ path('miles_apart_seller_amazon-product-modal-submit') }}");


	</script>
{% endblock %}

